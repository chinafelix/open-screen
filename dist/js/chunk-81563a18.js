(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-81563a18"],{"20e0":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),a("a",{staticStyle:{color:"blue"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.handleView({id:"-1",title:"一级菜单",parentId:""},!1)}}},[t._v("一级菜单")])]),t._l(t.nav,(function(e){return a("el-breadcrumb-item",{key:e.id,attrs:{label:e.id}},[a("a",{staticStyle:{color:"blue"},attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.handleView(e,!1)}}},[t._v(t._s(e.title))])])}))],2)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"handle-del mr10",staticStyle:{float:"right"},attrs:{type:"primary",icon:"delete"},on:{click:t.handleAdd}},[t._v("添加")])],1),a("el-table",{staticClass:"table",attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"code"}}),a("el-table-column",{attrs:{prop:"title",label:"名称"}}),a("el-table-column",{attrs:{prop:"icon",label:"font角标"}}),a("el-table-column",{attrs:{prop:"indexTarget",label:"路径"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序"}}),a("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"warning",icon:"el-icon-edit",circle:""},on:{click:function(a){return t.handleEdit(e.row,!0)}}}),a("el-button",{attrs:{type:"success",icon:"el-icon-tickets",circle:""},on:{click:function(a){return t.handleView(e.row,!0)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return t.handleDelete(e.row)}}})]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.page.total,"page-size":t.args.pageSize},on:{"current-change":t.handlePager}})],1)],1),a("el-dialog",{attrs:{title:"详情",visible:t.ctrl.editVisible,width:"30%"},on:{"update:visible":function(e){return t.$set(t.ctrl,"editVisible",e)}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"code"}},[a("el-input",{model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1),a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"font角标"}},[a("el-input",{model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}})],1),a("el-form-item",{attrs:{label:"路径"}},[a("el-input",{model:{value:t.form.indexTarget,callback:function(e){t.$set(t.form,"indexTarget",e)},expression:"form.indexTarget"}})],1),a("el-form-item",{attrs:{label:"权限",prop:"groups"}},[a("el-checkbox-group",{model:{value:t.groupsSelect,callback:function(e){t.groupsSelect=e},expression:"groupsSelect"}},t._l(t.groupsDict,(function(e){return a("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.text))])})),1)],1),a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.ctrl.editVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("确 定")])],1)],1)],1)},i=[],n=(a("23e6"),{name:"sysUserMenus",data:function(){return{url:{data:"/manager/sys/user/menu/list",create:"/manager/sys/user/menu/create",update:"/manager/sys/user/menu/update",remove:"/manager/sys/user/menu/remove",groups:"/manager/enums/list/SysUserGroup"},tableData:[],ctrl:{editVisible:!1,new:!1},nav:[],groupsDict:[],page:{total:0},args:{parent:-1,pageIndex:1,pageSize:10,count:!0},form:{id:"",title:"",icon:"",groups:"",indexTarget:"",sort:"",parentId:"-1"}}},computed:{groupsSelect:{get:function(){return this.$exts.bitSplit(this.form.groups)},set:function(t){this.form.groups=this.$exts.bitMerge(t)}}},created:function(){var t=this;this.$axios.get(this.url.groups,{}).then((function(e){t.groupsDict=t.groupsDict.concat(e.data)})),this.getData(!0)},methods:{getData:function(t){var e=this;t&&(this.args.count=!0,this.args.pageIndex=1),this.$axios.post(this.url.data,this.args).then((function(a){e.tableData=a.data.list||[],t&&(e.page.total=a.data.total||0)}))},handlePager:function(t){this.args.pageIndex=t,this.getData(!1)},handleView:function(t,e){if(this.args.parent=t.id,this.getData(!0),e)this.nav.push(t);else{var a=[];for(var r in this.nav){if(this.nav[r].parentId==t.id)break;a.push(this.nav[r])}this.nav=a}},handleSave:function(){var t=this;this.$axios.post(this.ctrl.new?this.url.create:this.url.update,this.form).then((function(e){e.success?(t.$message.success((t.ctrl.new?"创建成功":"修改成功")+",重新登录后生效"),t.getData(!0)):t.$message.success(e.msg),t.ctrl.editVisible=!1}))},handleEdit:function(t){this.$exts.replaceObject(this.form,t),this.ctrl.new=!1,this.ctrl.editVisible=!0},handleAdd:function(){this.$exts.clearObject(this.form),this.form.parentId=this.args.parent,this.ctrl.new=!0,this.ctrl.editVisible=!0},handleDelete:function(t){var e=this;this.$confirm("确认删除？").then((function(){e.$axios.post(e.url.remove,{id:t.id}).then((function(t){e.$message.success("删除成功"),e.getData(!0)}))})).catch((function(){}))}}}),s=n,l=(a("e08f"),a("2877")),o=Object(l["a"])(s,r,i,!1,null,"1c17b1c6",null);e["default"]=o.exports},"23e6":function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return i}));a("c5f6"),a("6b54"),a("87b3");function r(t,e,a){if(void 0==e||null==e)return a(new Error("输入不可以为空"));"0"==e.toString()&&a(),setTimeout((function(){if(Number(e)){var t=/^[0-9]*[1-9][0-9]*$/,r=t.test(e);r?a():a(new Error("请输入正整数"))}else a(new Error("请输入正整数"))}),0)}function i(t,e,a){if(void 0==e||null==e)return a(new Error("输入不可以为空"));"0"==e.toString()&&a(),setTimeout((function(){Number(e)?a():a(new Error("请输入数字货币"))}),100)}},"3a2d":function(t,e,a){},e08f:function(t,e,a){"use strict";var r=a("3a2d"),i=a.n(r);i.a}}]);