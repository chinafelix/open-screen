(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-791b72e6"],{"5b9f":function(t,e,a){"use strict";var l=a("e871"),s=a.n(l);s.a},e871:function(t,e,a){},f4de:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),t._v(" 卡券标签")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"handle-del mr10",staticStyle:{float:"right"},attrs:{type:"primary",icon:"delete"},on:{click:t.handleAdd}},[t._v("添加")])],1),a("el-table",{staticClass:"table",attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",width:"200"}}),a("el-table-column",{attrs:{prop:"typeName",label:"标签名称"}}),a("el-table-column",{attrs:{label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.typeIcon,"min-width":"70",height:"70"}})]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"el-button el-button--primary is-circle",attrs:{type:"button"},on:{click:function(a){return t.handleEdit(e.row)}}},[a("i",{staticClass:"el-icon-edit"})]),a("el-button",{staticClass:"el-button el-button--danger is-circle",attrs:{type:"button"},on:{click:function(a){return t.handleDelete(e.row)}}},[a("i",{staticClass:"el-icon-delete"})]),a("el-tooltip",{attrs:{effect:"dark",content:"启用或禁用",placement:"top"}},[a("el-switch",{attrs:{"active-color":"#13ce66"},on:{change:function(a){return t.handleEnable(e.row.id,e.row.enable)}},model:{value:e.row.enable,callback:function(a){t.$set(e.row,"enable",a)},expression:"scope.row.enable"}})],1)]}}])})],1)],1),a("el-dialog",{attrs:{title:"编辑",visible:t.ctrl.editVisible,width:"30%"},on:{"update:visible":function(e){return t.$set(t.ctrl,"editVisible",e)}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"标签名称"}},[a("el-input",{model:{value:t.form.typeName,callback:function(e){t.$set(t.form,"typeName",e)},expression:"form.typeName"}})],1),a("el-form-item",{attrs:{label:"文件"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,action:t._cfg.upload.url,data:{group:"seller-coupon-type"},accept:t._cfg.upload.accept,"on-success":t.handleSuccessFile,"before-upload":t.handleBeforeFile}},[t.form.typeIcon?a("img",{staticClass:"avatar",attrs:{src:t.form.typeIcon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.ctrl.editVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("确 定")])],1)],1)],1)},s=[],n={name:"sellerCouponType",data:function(){return{url:{data:"/manager/seller/coupon/type",create:"/manager/seller/coupon/type/create",update:"/manager/seller/coupon/type/update",remove:"/manager/seller/coupon/type/remove"},ctrl:{editVisible:!1,new:!1},tableData:[],form:{id:"",typeName:"",typeIcon:""}}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.$axios.post(this.url.data,{}).then((function(e){t.tableData=e.data||[]}))},handleEdit:function(t){this.$exts.replaceObject(this.form,t),this.ctrl.new=!1,this.ctrl.editVisible=!0},handleAdd:function(){this.$exts.clearObject(this.form),this.ctrl.new=!0,this.ctrl.editVisible=!0},handleDelete:function(t){var e=this;this.$confirm("确认删除？").then((function(){e.$axios.post(e.url.remove,{id:t.id}).then((function(t){e.$message.success("删除成功"),e.getData(!0)}))})).catch((function(){}))},handleEnable:function(t,e){var a=this;this.$axios.post(this.url.update,{id:t,enable:e}).then((function(t){a.$message.success("设置成功"),a.getData(!1)}))},handleBeforeFile:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e},handleSuccessFile:function(t,e){this.form.typeIcon=t.data},handleSave:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;t.$axios.post(t.ctrl.new?t.url.create:t.url.update,t.form).then((function(e){t.$message.success(t.ctrl.new?"创建成功":"修改成功"),t.ctrl.editVisible=!1,t.getData(!0)}))}))}}},i=n,o=(a("5b9f"),a("2877")),r=Object(o["a"])(i,l,s,!1,null,"793e24d4",null);e["default"]=r.exports}}]);